<!DOCTYPE html>
<html>
  <head>
    <title>Paper Rock Scissors</title>
    <style>
        buttton{
         display:inline-flex;
          background-color: rgb(223, 223, 223);
          border: 2px solid rgb(187, 187, 187);
          border-radius: 2px;
          font-family:Arial, Helvetica, sans-serif;
          font-weight: 700; 
        } 
    </style>
  </head>
  <body>

    
    <hr>
    <h3>Rock Paper Scissors</h3>
    <hr>   
    <div class="button-container">
      <button onclick="         
          const result = compare('Rock');  
        ">Rock</button>
      <button onclick="         
          const result1 = compare('Paper');
      ">Paper</button>
      <button onclick=" 
          const result2 = compare('Scissors');
      ">Scissors</button>
      <button onclick="score.losses = 0; score.wins = 0; score.ties = 0; uprdateScore();
      localStorage.removeItem('score');">
        Reset Score
      </button>
    </div>
    <p class="js-score"></p>
   <script>

//criando o objeto 'score' puchando valor do localStorage ou dando valor padrao
   let score = JSON.parse(localStorage.getItem('score'))||{
      wins:0,
      losses:0,
      ties:0
    };

    uprdateScore();

    function pickCompMove(){
        let computerMove='';
        const randomNumber = Math.random();
        if (randomNumber < 1/3 && randomNumber>=0){
          computerMove = 'Rock';
        }
        else if(randomNumber>=1/3 && randomNumber < 2/3){
          computerMove = 'Paper'; 
        } 
        else if(randomNumber>=2/3 && randomNumber<=1){
          computerMove = 'Scissors';
        }
         return computerMove;
    } 
    
    function compare(move){
        const compMove = pickCompMove();
        let result = '';
        if (move==='Scissors'){
          if(compMove ==='Rock'){
            result = 'Computer won';
            score.losses++;  
          }
          else if(compMove ==='Paper'){
            result = 'You won';
            score.wins++;
          }
          else if(compMove === 'Scissors'){
            result = 'Tie';
            score.ties++;
          }
          
         // alert(`you play Scissors and computer play ${compMove} 
          //Wins: ${score.wins} losses: ${score.losses} ties: ${score.ties} `);
        }
        else if (move==='Paper'){
          if(compMove ==='Rock'){
            result ='You won';
            score.wins++;
          }
          else if(compMove ==='Paper'){
            result = 'Tie';
            score.ties++;
          }
          else if(compMove ==='Scissors'){
            result = 'Computer won';
            score.losses++;
          }
          
         // alert(`you play Paper and computer play ${compMove} ${result} 
          //Wins: ${score.wins} losses: ${score.losses} ties: ${score.ties}`);
        }
        else if(move==="Rock"){
          if(compMove==='Rock'){
            result = 'Tie';
            score.ties++;
          }
          else if(compMove==='Paper'){
            result = 'Computer Won';
            score.losses++;
            
          }
          else if(compMove==='Scissors'){
            result = 'You won';
            score.wins++;
          }

          //alert(`you play Rock and computer play ${compMove} ${result} 
          //Wins: ${score.wins} losses: ${score.losses} ties: ${score.ties} `);
        }
        alert(`you play Rock and computer play ${compMove} ${result} 
          Wins: ${score.wins} losses: ${score.losses} ties: ${score.ties} `);
        //guardando valores em localStorage usando metodo setItem 
        localStorage.setItem('score',JSON.stringify(score));
        uprdateScore();
    }

    function uprdateScore(){
      document.querySelector('.js-score').innerHTML=`Wins: ${score.wins} losses: ${score.losses} ties: ${score.ties} `;
    }

   </script> 
  </body>
</html>